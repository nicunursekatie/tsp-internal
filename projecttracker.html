<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Project Tracker ‚Äî The Sandwich Project</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üöÄ</text></svg>">
</head>
<body>
  <nav style="background:#1a4d63; padding:0.5rem 1.5rem; font-family:system-ui,sans-serif;">
    <a href="index.html" style="color:rgba(255,255,255,0.85); text-decoration:none; font-size:0.85rem; font-weight:600;">‚Üê Back to Hub</a>
  </nav>
  <div id="root"></div>
  <script type="text/babel">
    const { useState } = React;

    const committees = [
  "Events",
  "Transportation",
  "Ongoing Programs",
  "Development",
  "Marketing",
  "Projects",
  "Legal & Safety",
  "Multiple",
  "TBD",
];

const statusOptions = [
  { value: "not-started", label: "Not Started", color: "bg-gray-100 text-gray-600 border-gray-300" },
  { value: "in-progress", label: "In Progress", color: "bg-blue-100 text-blue-700 border-blue-300" },
  { value: "blocked", label: "Blocked", color: "bg-red-100 text-red-700 border-red-300" },
  { value: "on-hold", label: "On Hold", color: "bg-amber-100 text-amber-700 border-amber-300" },
  { value: "complete", label: "Complete", color: "bg-emerald-100 text-emerald-700 border-emerald-300" },
];

const priorityOptions = [
  { value: "high", label: "High", dot: "bg-red-500" },
  { value: "medium", label: "Medium", dot: "bg-amber-500" },
  { value: "low", label: "Low", dot: "bg-gray-400" },
];

const initialProjects = [
  {
    id: 1,
    name: "TSP App Development",
    description: "Building app to centralize content creation and streamline driver coordination",
    owner: "Katie",
    timeline: "Ongoing",
    startDate: "",
    targetDate: "",
    status: "in-progress",
    priority: "high",
    receivingCommittee: "Multiple",
    notes: "Will support Transportation coordination and content workflows",
  },
  {
    id: 2,
    name: "Content Creation Workflow",
    description: "Streamline how event photos become thank-you graphics and social media posts",
    owner: "Katie",
    timeline: "TBD",
    startDate: "",
    targetDate: "",
    status: "in-progress",
    priority: "high",
    receivingCommittee: "Marketing",
    notes: "Brigith currently making thank-you graphics ‚Äî workflow under review",
  },
  {
    id: 3,
    name: "Event Intake & Scheduling System",
    description: "Build/refine the process so all event requests go through one system",
    owner: "TBD",
    timeline: "Phase 1 (Months 1‚Äì2)",
    startDate: "",
    targetDate: "",
    status: "complete",
    priority: "high",
    receivingCommittee: "Events",
    notes: "System already built and in use",
  },
  {
    id: 4,
    name: "Driver Route & Schedule Documentation",
    description: "Document all current routes, drivers, and schedules in one place",
    owner: "Jordan Horne",
    timeline: "Phase 1 (Months 1‚Äì2)",
    startDate: "",
    targetDate: "",
    status: "not-started",
    priority: "high",
    receivingCommittee: "Transportation",
    notes: "Transportation Committee Priority #1",
  },
  {
    id: 5,
    name: "Host & Program Inventory",
    description: "Create full inventory of all hosts, weekly makers, and school/club programs with contact info",
    owner: "TBD",
    timeline: "Phase 1 (Months 1‚Äì2)",
    startDate: "",
    targetDate: "",
    status: "not-started",
    priority: "medium",
    receivingCommittee: "Ongoing Programs",
    notes: "Ongoing Programs Committee Priority #1 ‚Äî needs a lead first",
  },
  {
    id: 6,
    name: "Grant Pipeline Tracker",
    description: "Track what's been applied for, what's pending, upcoming deadlines, and reporting requirements",
    owner: "TBD",
    timeline: "Phase 2 (Months 2‚Äì4)",
    startDate: "",
    targetDate: "",
    status: "complete",
    priority: "medium",
    receivingCommittee: "Development",
    notes: "Already built ‚Äî still needs a Grants Lead to own it",
  },
  {
    id: 7,
    name: "Brand Guidelines",
    description: "Define light brand guidance: tone, language, visual consistency across platforms",
    owner: "TBD",
    timeline: "Phase 3 (Months 3‚Äì5)",
    startDate: "",
    targetDate: "",
    status: "not-started",
    priority: "medium",
    receivingCommittee: "Marketing",
    notes: "Marketing Committee Priority #1 ‚Äî needs a Marketing Lead",
  },
  {
    id: 8,
    name: "Standardized Onboarding Materials",
    description: "Ensure every new participant gets the same expectations, food safety info, and timelines",
    owner: "TBD",
    timeline: "Phase 1 (Months 1‚Äì2)",
    startDate: "",
    targetDate: "",
    status: "in-progress",
    priority: "medium",
    receivingCommittee: "Ongoing Programs",
    notes: "In process ‚Äî part of host handbook rewrite effort",
  },
  {
    id: 9,
    name: "Food Safety Standards Standardization",
    description: "Standardize food safety standards from the rewritten host handbook across all other guides",
    owner: "Marcy",
    timeline: "Phase 4 (Months 4‚Äì6)",
    startDate: "",
    targetDate: "",
    status: "in-progress",
    priority: "medium",
    receivingCommittee: "Legal & Safety",
    notes: "Host handbook rewritten with food safety standards nailed down ‚Äî now need to propagate across remaining guides",
  },
];

let nextId = 10;

function StatusBadge({ status }) {
  const config = statusOptions.find((s) => s.value === status);
  return (
    <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium border ${config.color}`}>
      {config.label}
    </span>
  );
}

function PriorityDot({ priority }) {
  const config = priorityOptions.find((p) => p.value === priority);
  return (
    <span className="inline-flex items-center gap-1 text-xs text-gray-500">
      <span className={`w-2 h-2 rounded-full ${config.dot}`} />
      {config.label}
    </span>
  );
}

function AddProjectModal({ onAdd, onClose }) {
  const [form, setForm] = useState({
    name: "",
    description: "",
    owner: "",
    timeline: "",
    status: "not-started",
    priority: "medium",
    receivingCommittee: "TBD",
    notes: "",
  });

  const update = (field, value) => setForm((prev) => ({ ...prev, [field]: value }));

  const handleSubmit = (e) => {
    e.preventDefault();
    if (!form.name.trim()) return;
    onAdd({
      ...form,
      id: nextId++,
      startDate: "",
      targetDate: "",
    });
    onClose();
  };

  return (
    <div className="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4">
      <div className="bg-white rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto">
        <form onSubmit={handleSubmit}>
          <div className="px-6 py-4 border-b border-gray-200 flex items-center justify-between">
            <h3 className="text-lg font-semibold text-gray-900">Add Project</h3>
            <button type="button" onClick={onClose} className="text-gray-400 hover:text-gray-600">
              <svg className="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>
          </div>

          <div className="px-6 py-4 space-y-4">
            <div>
              <label className="block text-xs font-medium text-gray-600 mb-1">Project Name *</label>
              <input
                type="text"
                value={form.name}
                onChange={(e) => update("name", e.target.value)}
                className="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                placeholder="e.g. Volunteer Onboarding Redesign"
                autoFocus
              />
            </div>
            <div>
              <label className="block text-xs font-medium text-gray-600 mb-1">Description</label>
              <textarea
                value={form.description}
                onChange={(e) => update("description", e.target.value)}
                rows={2}
                className="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"
                placeholder="What is this project and why does it matter?"
              />
            </div>
            <div className="grid grid-cols-2 gap-4">
              <div>
                <label className="block text-xs font-medium text-gray-600 mb-1">Owner</label>
                <input
                  type="text"
                  value={form.owner}
                  onChange={(e) => update("owner", e.target.value)}
                  className="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                  placeholder="Name or TBD"
                />
              </div>
              <div>
                <label className="block text-xs font-medium text-gray-600 mb-1">Timeline</label>
                <input
                  type="text"
                  value={form.timeline}
                  onChange={(e) => update("timeline", e.target.value)}
                  className="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                  placeholder="e.g. Phase 2, Q3, Ongoing"
                />
              </div>
            </div>
            <div className="grid grid-cols-3 gap-4">
              <div>
                <label className="block text-xs font-medium text-gray-600 mb-1">Status</label>
                <select
                  value={form.status}
                  onChange={(e) => update("status", e.target.value)}
                  className="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"
                >
                  {statusOptions.map((s) => (
                    <option key={s.value} value={s.value}>{s.label}</option>
                  ))}
                </select>
              </div>
              <div>
                <label className="block text-xs font-medium text-gray-600 mb-1">Priority</label>
                <select
                  value={form.priority}
                  onChange={(e) => update("priority", e.target.value)}
                  className="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"
                >
                  {priorityOptions.map((p) => (
                    <option key={p.value} value={p.value}>{p.label}</option>
                  ))}
                </select>
              </div>
              <div>
                <label className="block text-xs font-medium text-gray-600 mb-1">Receiving Committee</label>
                <select
                  value={form.receivingCommittee}
                  onChange={(e) => update("receivingCommittee", e.target.value)}
                  className="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"
                >
                  {committees.map((c) => (
                    <option key={c} value={c}>{c}</option>
                  ))}
                </select>
              </div>
            </div>
            <div>
              <label className="block text-xs font-medium text-gray-600 mb-1">Notes</label>
              <textarea
                value={form.notes}
                onChange={(e) => update("notes", e.target.value)}
                rows={2}
                className="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"
                placeholder="Dependencies, blockers, context..."
              />
            </div>
          </div>

          <div className="px-6 py-4 border-t border-gray-200 flex justify-end gap-3">
            <button type="button" onClick={onClose} className="px-4 py-2 text-sm text-gray-600 hover:text-gray-800">
              Cancel
            </button>
            <button
              type="submit"
              className="px-4 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg hover:bg-gray-800 transition-colors"
            >
              Add Project
            </button>
          </div>
        </form>
      </div>
    </div>
  );
}

function ProjectRow({ project, onUpdate, isExpanded, onToggle }) {
  const borderLeft = project.status === "blocked"
    ? "border-l-red-400"
    : project.status === "in-progress"
    ? "border-l-blue-400"
    : project.status === "complete"
    ? "border-l-emerald-400"
    : project.status === "on-hold"
    ? "border-l-amber-400"
    : "border-l-gray-300";

  return (
    <div className={`bg-white rounded-lg shadow-sm border border-gray-200 border-l-4 ${borderLeft} overflow-hidden`}>
      <button
        onClick={onToggle}
        className="w-full px-5 py-3.5 flex items-center justify-between hover:bg-gray-50 transition-colors text-left"
      >
        <div className="flex items-center gap-3 flex-wrap min-w-0">
          <PriorityDot priority={project.priority} />
          <h3 className="text-sm font-semibold text-gray-900 truncate">{project.name}</h3>
          <StatusBadge status={project.status} />
        </div>
        <div className="flex items-center gap-4 flex-shrink-0">
          <div className="text-right hidden sm:block">
            <div className="text-xs text-gray-500">{project.owner || "Unassigned"}</div>
            <div className="text-xs text-gray-400">{project.receivingCommittee}</div>
          </div>
          <svg
            className={`w-4 h-4 text-gray-400 transition-transform duration-200 ${isExpanded ? "rotate-180" : ""}`}
            fill="none" viewBox="0 0 24 24" stroke="currentColor"
          >
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
          </svg>
        </div>
      </button>

      {isExpanded && (
        <div className="px-5 pb-4 border-t border-gray-100">
          {project.description && (
            <p className="text-sm text-gray-600 mt-3">{project.description}</p>
          )}

          <div className="grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4">
            <div>
              <label className="text-xs font-medium text-gray-500 uppercase tracking-wider">Owner</label>
              <input
                type="text"
                value={project.owner}
                onChange={(e) => onUpdate(project.id, "owner", e.target.value)}
                className="mt-1 w-full text-sm border border-gray-200 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500"
                placeholder="Unassigned"
              />
            </div>
            <div>
              <label className="text-xs font-medium text-gray-500 uppercase tracking-wider">Timeline</label>
              <input
                type="text"
                value={project.timeline}
                onChange={(e) => onUpdate(project.id, "timeline", e.target.value)}
                className="mt-1 w-full text-sm border border-gray-200 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500"
                placeholder="TBD"
              />
            </div>
            <div>
              <label className="text-xs font-medium text-gray-500 uppercase tracking-wider">Status</label>
              <select
                value={project.status}
                onChange={(e) => onUpdate(project.id, "status", e.target.value)}
                className="mt-1 w-full text-sm border border-gray-200 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"
              >
                {statusOptions.map((s) => (
                  <option key={s.value} value={s.value}>{s.label}</option>
                ))}
              </select>
            </div>
            <div>
              <label className="text-xs font-medium text-gray-500 uppercase tracking-wider">Receiving Committee</label>
              <select
                value={project.receivingCommittee}
                onChange={(e) => onUpdate(project.id, "receivingCommittee", e.target.value)}
                className="mt-1 w-full text-sm border border-gray-200 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"
              >
                {committees.map((c) => (
                  <option key={c} value={c}>{c}</option>
                ))}
              </select>
            </div>
          </div>

          <div className="grid grid-cols-2 gap-4 mt-3">
            <div>
              <label className="text-xs font-medium text-gray-500 uppercase tracking-wider">Priority</label>
              <select
                value={project.priority}
                onChange={(e) => onUpdate(project.id, "priority", e.target.value)}
                className="mt-1 w-full text-sm border border-gray-200 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"
              >
                {priorityOptions.map((p) => (
                  <option key={p.value} value={p.value}>{p.label}</option>
                ))}
              </select>
            </div>
            <div>
              <label className="text-xs font-medium text-gray-500 uppercase tracking-wider">Target Date</label>
              <input
                type="date"
                value={project.targetDate}
                onChange={(e) => onUpdate(project.id, "targetDate", e.target.value)}
                className="mt-1 w-full text-sm border border-gray-200 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
            </div>
          </div>

          <div className="mt-3">
            <label className="text-xs font-medium text-gray-500 uppercase tracking-wider">Notes</label>
            <textarea
              value={project.notes}
              onChange={(e) => onUpdate(project.id, "notes", e.target.value)}
              rows={2}
              className="mt-1 w-full text-sm border border-gray-200 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"
              placeholder="Dependencies, blockers, context..."
            />
          </div>

          <div className="mt-3 flex justify-end">
            <button
              onClick={() => onUpdate(project.id, "__delete", true)}
              className="text-xs text-red-400 hover:text-red-600 transition-colors"
            >
              Remove project
            </button>
          </div>
        </div>
      )}
    </div>
  );
}

function App() {
  const [projects, setProjects] = useState(initialProjects);
  const [expandedIds, setExpandedIds] = useState(new Set());
  const [showAdd, setShowAdd] = useState(false);
  const [filterStatus, setFilterStatus] = useState("all");
  const [filterCommittee, setFilterCommittee] = useState("all");
  const [sortBy, setSortBy] = useState("priority");

  const updateProject = (id, field, value) => {
    if (field === "__delete") {
      setProjects((prev) => prev.filter((p) => p.id !== id));
      return;
    }
    setProjects((prev) =>
      prev.map((p) => (p.id === id ? { ...p, [field]: value } : p))
    );
  };

  const addProject = (project) => {
    setProjects((prev) => [...prev, project]);
    setExpandedIds((prev) => new Set([...prev, project.id]));
  };

  const toggleExpand = (id) => {
    setExpandedIds((prev) => {
      const next = new Set(prev);
      if (next.has(id)) next.delete(id);
      else next.add(id);
      return next;
    });
  };

  const priorityOrder = { high: 0, medium: 1, low: 2 };
  const statusOrder = { blocked: 0, "in-progress": 1, "not-started": 2, "on-hold": 3, complete: 4 };

  let filtered = projects;
  if (filterStatus !== "all") filtered = filtered.filter((p) => p.status === filterStatus);
  if (filterCommittee !== "all") filtered = filtered.filter((p) => p.receivingCommittee === filterCommittee);

  filtered = [...filtered].sort((a, b) => {
    if (sortBy === "priority") return priorityOrder[a.priority] - priorityOrder[b.priority];
    if (sortBy === "status") return statusOrder[a.status] - statusOrder[b.status];
    if (sortBy === "name") return a.name.localeCompare(b.name);
    if (sortBy === "owner") return (a.owner || "zzz").localeCompare(b.owner || "zzz");
    return 0;
  });

  const inProgress = projects.filter((p) => p.status === "in-progress").length;
  const blocked = projects.filter((p) => p.status === "blocked").length;
  const unassigned = projects.filter((p) => !p.owner || p.owner === "TBD").length;
  const complete = projects.filter((p) => p.status === "complete").length;

  const usedCommittees = [...new Set(projects.map((p) => p.receivingCommittee))].sort();

  return (
    <div className="min-h-screen bg-gray-50">
      <div className="bg-white border-b border-gray-200">
        <div className="max-w-4xl mx-auto px-4 py-6">
          <div className="flex items-center justify-between flex-wrap gap-3">
            <div>
              <h1 className="text-2xl font-bold text-gray-900">The Sandwich Project</h1>
              <p className="text-sm text-gray-500 mt-0.5">Project Tracker</p>
            </div>
            <div className="flex gap-6 text-center">
              <div>
                <div className="text-2xl font-bold text-gray-900">{projects.length}</div>
                <div className="text-xs text-gray-500">Total</div>
              </div>
              <div>
                <div className="text-2xl font-bold text-blue-600">{inProgress}</div>
                <div className="text-xs text-gray-500">Active</div>
              </div>
              <div>
                <div className="text-2xl font-bold text-amber-600">{unassigned}</div>
                <div className="text-xs text-gray-500">Unassigned</div>
              </div>
              <div>
                <div className="text-2xl font-bold text-emerald-600">{complete}</div>
                <div className="text-xs text-gray-500">Done</div>
              </div>
              {blocked > 0 && (
                <div>
                  <div className="text-2xl font-bold text-red-600">{blocked}</div>
                  <div className="text-xs text-gray-500">Blocked</div>
                </div>
              )}
            </div>
          </div>
        </div>
      </div>

      <div className="max-w-4xl mx-auto px-4 py-4">
        <div className="flex items-center justify-between flex-wrap gap-3">
          <div className="flex items-center gap-3 flex-wrap">
            <select
              value={filterStatus}
              onChange={(e) => setFilterStatus(e.target.value)}
              className="text-xs border border-gray-200 rounded-full px-3 py-1.5 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500"
            >
              <option value="all">All statuses</option>
              {statusOptions.map((s) => (
                <option key={s.value} value={s.value}>{s.label}</option>
              ))}
            </select>
            <select
              value={filterCommittee}
              onChange={(e) => setFilterCommittee(e.target.value)}
              className="text-xs border border-gray-200 rounded-full px-3 py-1.5 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500"
            >
              <option value="all">All committees</option>
              {usedCommittees.map((c) => (
                <option key={c} value={c}>{c}</option>
              ))}
            </select>
            <select
              value={sortBy}
              onChange={(e) => setSortBy(e.target.value)}
              className="text-xs border border-gray-200 rounded-full px-3 py-1.5 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500"
            >
              <option value="priority">Sort: Priority</option>
              <option value="status">Sort: Status</option>
              <option value="name">Sort: Name</option>
              <option value="owner">Sort: Owner</option>
            </select>
          </div>
          <button
            onClick={() => setShowAdd(true)}
            className="inline-flex items-center gap-1.5 px-4 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg hover:bg-gray-800 transition-colors"
          >
            <svg className="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
            </svg>
            Add Project
          </button>
        </div>
      </div>

      <div className="max-w-4xl mx-auto px-4 pb-8">
        <div className="space-y-2.5">
          {filtered.map((p) => (
            <ProjectRow
              key={p.id}
              project={p}
              onUpdate={updateProject}
              isExpanded={expandedIds.has(p.id)}
              onToggle={() => toggleExpand(p.id)}
            />
          ))}
        </div>

        {filtered.length === 0 && (
          <div className="text-center py-12 text-gray-400">
            No projects match these filters.
          </div>
        )}

        <div className="mt-8 bg-white rounded-lg shadow-sm border border-gray-200 p-5">
          <h3 className="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3">Project Intake Criteria</h3>
          <div className="text-sm text-gray-600 space-y-1.5">
            <p><span className="font-medium text-gray-800">What counts as a project:</span> Time-bound, cross-committee initiatives that introduce change ‚Äî new systems, process redesigns, pilot programs.</p>
            <p><span className="font-medium text-gray-800">What doesn't:</span> Ongoing committee work (that's operational, not project-based).</p>
            <p><span className="font-medium text-gray-800">Handoff rule:</span> When a project is complete, ownership and documentation transfer to the receiving committee.</p>
          </div>
        </div>
      </div>

      {showAdd && <AddProjectModal onAdd={addProject} onClose={() => setShowAdd(false)} />}
    </div>
  );
}

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
